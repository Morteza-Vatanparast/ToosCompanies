{% set count_page = (count_all + count_per_page - 1) / count_per_page %}

{% if count_all > count_per_page %}
    <div class="col-md-12 text-center">
        <div class="pagination">
            {% if count_page <= 9 %}
                {% for i in range(1 ,count_page + 1) %}
                    {% if i == active_page %}
                        <div data-page="{{ i }}" class="change-page"><div class="number active">{{ i }}</div></div>
                    {% else %}
                        <div data-page="{{ i }}" class="change-page"><div class="number">{{ i }}</div></div>
                    {% end %}
                {% end %}
            {% elif active_page <= 4 and count_page > 9 %}
                {% for i in range(1 ,10) %}
                    {% if i == active_page %}
                        <div data-page="{{ i }}" class="change-page"><div class="number active">{{ i }}</div></div>
                    {% else %}
                        <div data-page="{{ i }}" class="change-page"><div class="number">{{ i }}</div></div>
                    {% end %}
                {% end %}
                ...
                <div data-page="{{ active_page + 1 }}" class="change-page"><div class="number"> بعدی </div></div>
                <div data-page="{{ count_page }}" class="change-page"><div class="number"> انتها </div></div>

            {% elif 4 < active_page < count_page - 5 and count_page > 9 %}
                <div data-page="1" class="change-page"><div class="number"> ابتدا </div></div>
                <div data-page="{{ active_page - 1 }}" class="change-page"><div class="number"> قبلی </div></div>
                ...
                {% for i in range(active_page - 4, active_page + 5) %}
                    {% if i == active_page %}
                        <div data-page="{{ i }}" class="change-page"><div class="number active">{{ i }}</div></div>
                    {% else %}
                        <div data-page="{{ i }}" class="change-page"><div class="number">{{ i }}</div></div>
                    {% end %}
                {% end %}
                ...
                <div data-page="{{ active_page + 1 }}" class="change-page"><div class="number"> بعدی </div></div>
                <div data-page="{{ count_page }}" class="change-page"><div class="number"> انتها </div></div>

            {% elif active_page == count_page - 5 and count_page > 9 %}
                <div data-page="1" class="change-page"><div class="number"> ابتدا </div></div>
                <div data-page="{{ active_page - 1 }}" class="change-page"><div class="number"> قبلی </div></div>
                ...
                {% for i in range(active_page - 3, count_page + 1) %}
                    {% if i == active_page %}
                        <div data-page="{{ i }}" class="change-page"><div class="number active">{{ i }}</div></div>
                    {% else %}
                        <div data-page="{{ i }}" class="change-page"><div class="number">{{ i }}</div></div>
                    {% end %}
                {% end %}

            {% elif active_page > count_page - 5 and count_page > 9 %}
                <div data-page="1" class="change-page"><div class="number"> ابتدا </div></div>
                <div data-page="{{ active_page - 1 }}" class="change-page"><div class="number"> قبلی </div></div>
                ...
                {% for i in range(count_page - 8, count_page + 1) %}
                    {% if i == active_page %}
                        <div data-page="{{ i }}" class="change-page"><div class="number active">{{ i }}</div></div>
                    {% else %}
                        <div data-page="{{ i }}" class="change-page"><div class="number">{{ i }}</div></div>
                    {% end %}
                {% end %}
            {% end %}
        </div>
    </div>
{% end %}